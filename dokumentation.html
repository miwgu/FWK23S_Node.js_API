<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Server Uppgift 2: Dokumentation av det här APIet</h1>
    <p>Importera Insomnia_topic_db2023.json till Insomnia</p>
    <p>Kolla på data.sql för att skapa topic_db2023 (database)</p>
    <p>Användare role: Admin eller Visitor</p>
    <h2>Routes</h2>

    <ul>
        <li><span>         </span><em>POST /login</em> - för inloggnin. Retunerar en JWT som används som bearer token i anrop till outes skyddade med auth. </li>
        <li><span>&#x1f510;</span><em>GET /token-info</em> - Inloggade användare returnerar egen token-info. </li>
        
        <li><span>&#x1f510;</span><em>POST /user/add</em> - Admin kan addera en ny användare. 
        {
            "username": "unikt namn",
            "password": "u123",
            "firstname": "Example_förstanamn",
            "lastname": "Example_Efternamn",
            "email": "example3@hotmail.com",
            "role": "Visitor"
        }
        Alla fält är obligatoriskt. username ska vara unikt.
        </li>
        <li><span>&#x1f510;</span><em>PUT /user/update/me</em> - Inloggade användare uppdatera egen användare-info. </li>
        <li><span>&#x1f510;</span><em>PUT /user/update/:id</em> - Admin kan uppdatera användare-info av Id. </li>
        <li><span>&#x1f510;</span><em>GET /user/me</em> - Inloggade användare returnerar egen användare-info. </li>
        <li><span>&#x1f510;</span><em>GET /user/byIdORUsername/:idORusername</em> - Admin kan returnera användare av angivet id eller username eller status 404 om användaren saknas. </li>
        <li><span>&#x1f510;</span><em>GET /user/find</em> - Admin kan returnera en användare av angivet username, firstname, lastname, email eller role. 
            *ex: http://localhost:3000/user/find?username=pegu http://localhost:3000/user/find?role=Admin </li> 

        <li><span>&#x1f510;</span><em>GET /user/all</em> - Admin kan returnerar alla användare. </li>
        <li><span>&#x1f510;</span><em>DELETE /users/delete/:id</em> - Admin kan deleta en användare av angivet id.</li>
        <li><span>&#x1f510;</span><em>POST /topic/add</em> - Inloggade användare Skapar en ny rubrik(topic)
            {
                "heading": "Om Uppgift1",
                "comment": "Hej Jag vill fråga .....................",
            }
            Alla fält är obligatoriskt. *user_id är inställt på inloggade användar-ID.
        </li>
        <li><span>&#x1f510;</span><em>GET /topic/all</em> - Inloggade användare kan returnerar alla rubrik(topics). </li>
        <li><span>&#x1f510;</span><em>GET /topic/user/:id</em> - Admin kan returnera rubrik(topics) av angivet användares id. </li>
    </ul>

    <p><span>&#x1f510;</span>= denna route kräver ett giltigt bearer token i authorization header.</p>
</body>
</html>